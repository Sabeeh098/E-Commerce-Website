<%- include('../layout/adminLayout/adminheader.ejs') %>
<%- include('../layout/adminLayout/adminnav.ejs') %>
<div class="content col-lg-10">
   
    <div class="row g-4">
            

           
            
        <div class="col-12">
            <h3 class="mb-3 mt-3">Coupons</h3>
            <!-- <a href="/admin/addCoupon" class="btn btn-primary m-2">Add Coupon</a> -->
            <a href="/admin/addCoupon"><button class="btn btn-outline-dark mb-4">Add Coupon</button></a>
            <div class="bg-light rounded h-100 p-4">
                <h6 class="mb-4">Coupons</h6>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col">No</th>
                            <th scope="col">Name</th>
                            <th scope="col">Code</th>
                            <th scope="col">Start Date</th>
                            <th scope="col">End Date</th>
                            <th scop="col">maxDiscount</th>
                            <th scope="col">minAmount</th>
                            <th scope="col">Status</th>
                            <th scope="col">Actions</th>
                          </tr>
                        </thead>
                    
                           <tbody>
                            <% if (couponData.length > 0) { %>
                                <% for (let i = 0; i < couponData.length; i++) { %>
                                    <tr>
                                        <th scope="row"><%= i + 1 %></th>
                                        <td><%= couponData[i].couponName %></td>
                                        <td><%= couponData[i].couponCode %></td>
                                        <td><%= couponData[i].startDate.toDateString() %></td>
                                        <td><%= couponData[i].endDate.toDateString() %></td>
                                        <td><%= couponData[i].maxDiscount %></td>
                                        <td><%= couponData[i].minAmount %></td>
                                        <%if(couponData[i].status === 0){%>
                                            <td>active</td>
                
                                       <% }else{%>
                                        <td>Inactive</td> 
                                     <%  } %>
                                        <td>
                                            <% if (couponData[i].status == 1) { %>
                                                <a href="/admin/couponUnlist?id=<%= couponData[i]._id %>" style="margin-bottom: 2px;">
                                                  <i class="mdi mdi-eye-off"></i> <!-- Eyes open icon -->
                                                </a>
                                              <% } else { %>
                                                <a href="/admin/couponUnlist?id=<%= couponData[i]._id %>" style="margin-bottom: 2px;">
                                                  <i class="mdi mdi-eye"></i> <!-- Eyes closed icon -->
                                                </a>
                                              <% } %>
                                              <a href="/admin/deleteCoupon?id=<%= couponData[i]._id %>" style="margin-bottom: 2px;">
                                                <i class="mdi mdi-delete"></i> <!-- Delete icon -->
                                              </a>
                                              <a href="/admin/editCoupon?id=<%= couponData[i]._id %>" style="margin-bottom: 2px;">
                                                <i class="mdi mdi-pencil"></i> <!-- Edit icon -->
                                              </a>
                                        </td>
                                    </tr>
                                <% } %>
                            <% }else{%>
                
                              <tr>
                                <td>No more coupons added</td>
                             </tr>
                
                         <% } %>
                        </tbody>
                        
                      </table>
              
                </div>
            </div>
        </div>
       
        
    </div>


<%- include('../layout/adminLayout/adminfooter.ejs') %>